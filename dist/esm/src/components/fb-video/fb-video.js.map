{"version":3,"file":"fb-video.js","sourceRoot":"","sources":["../../../../../src/components/fb-video/fb-video.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, Output, ElementRef, Renderer2, OnInit, OnDestroy, EventEmitter } from '@angular/core';\r\nimport { FBMLAttribute, FBMLComponent, FBMLInstanceMethod } from '../fbml-component';\r\ndeclare var FB: any;\r\n\r\n/**\r\n * @name Embedded Video\r\n * @shortdesc Component to embed Facebook videos\r\n * @fbdoc https://developers.facebook.com/docs/plugins/embedded-video-player\r\n * @description Component to embed Facebook videos and control them.\r\n * @usage\r\n * ```html\r\n * <!-- basic usage -->\r\n * <fb-video href=\"https://www.facebook.com/facebook/videos/10153231379946729/\"></fb-video>\r\n *\r\n * <!-- event emitters -->\r\n * <fb-video href=\"https://www.facebook.com/facebook/videos/10153231379946729/\" (paused)=\"onVideoPaused($event)\"></fb-video>\r\n * ```\r\n *\r\n * To manually interact with the video player, fetch it using `ViewChild`.\r\n *\r\n * ```ts\r\n * import { Component, ViewChild } from '@angular/core';\r\n * import { FBVideoComponent } from 'ng2-facebook-sdk';\r\n *\r\n * @Component(...)\r\n * export class MyComponent {\r\n *\r\n *   @ViewChild(FBVideoComponent) video: FBVideoComponent;\r\n *\r\n *   ngAfterViewInit() {\r\n *     this.video.play();\r\n *     this.video.pause();\r\n *     this.video.getVolume();\r\n *   }\r\n *\r\n * }\r\n *\r\n * ```\r\n */\r\n@Component({\r\n  selector: 'fb-video',\r\n  template: ''\r\n})\r\nexport class FBVideoComponent extends FBMLComponent implements OnInit, OnDestroy {\r\n\r\n  private _instance: any;\r\n\r\n  /**\r\n   * The absolute URL of the video.\r\n   */\r\n  @Input()\r\n  @FBMLAttribute\r\n  href: string;\r\n\r\n  /**\r\n   * Allow the video to be played in fullscreen mode. Can be false or true. Defaults to false;\r\n   */\r\n  @Input()\r\n  @FBMLAttribute\r\n  allowfullscreen: boolean;\r\n\r\n  /**\r\n   * Automatically start playing the video when the page loads. The video will be played without sound (muted). People can turn on sound via the video player controls. This setting does not apply to mobile devices. Can be false or true. Defaults to false.\r\n   */\r\n  @Input()\r\n  @FBMLAttribute\r\n  autoplay: boolean;\r\n\r\n  /**\r\n   * The width of the video container. Min. 220px.\r\n   */\r\n  @Input()\r\n  @FBMLAttribute\r\n  width: string;\r\n\r\n  /**\r\n   * Set to true to include the text from the Facebook post associated with the video, if any.\r\n   */\r\n  @Input()\r\n  @FBMLAttribute\r\n  showText: boolean;\r\n\r\n  /**\r\n   * Set to true to show captions (if available) by default. Captions are only available on desktop.\r\n   */\r\n  @Input()\r\n  @FBMLAttribute\r\n  showCaptions: boolean;\r\n\r\n  /**\r\n   * Fired when video starts to play.\r\n   */\r\n  @Output()\r\n  startedPlaying: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  /**\r\n   * Fired when video pauses.\r\n   */\r\n  @Output()\r\n  paused: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  /**\r\n   *\r\n   Fired when video finishes playing.\r\n   */\r\n  @Output()\r\n  finishedPlaying: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  /**\r\n   * Fired when video starts to buffer.\r\n   */\r\n  @Output()\r\n  startedBuffering: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  /**\r\n   * Fired when video recovers from buffering.\r\n   */\r\n  @Output()\r\n  finishedBuffering: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  /**\r\n   * Fired when an error occurs on the video.\r\n   */\r\n  @Output()\r\n  error: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  private _id: string;\r\n\r\n  private _listeners: any[] = [];\r\n\r\n  constructor(\r\n    el: ElementRef,\r\n    rnd: Renderer2\r\n  ) {\r\n    super(el, rnd, 'fb-video');\r\n    this.nativeElement.id = this._id = 'video-' + String(Math.floor((Math.random() * 10000) + 1));\r\n  }\r\n\r\n  /**\r\n   * @hidden\r\n   */\r\n  ngOnInit() {\r\n    FB.Event.subscribe('xfbml.ready', (msg: any) => {\r\n      if (msg.type === 'video' && msg.id === this._id) {\r\n        this._instance = msg.instance;\r\n        this._listeners.push(\r\n          this._instance.subscribe('startedPlaying', (e: any) => this.startedPlaying.emit(e)),\r\n          this._instance.subscribe('paused', (e: any) => this.paused.emit(e)),\r\n          this._instance.subscribe('finishedPlaying', (e: any) => this.finishedPlaying.emit(e)),\r\n          this._instance.subscribe('startedBuffering', (e: any) => this.startedBuffering.emit(e)),\r\n          this._instance.subscribe('finishedBuffering', (e: any) => this.finishedBuffering.emit(e)),\r\n          this._instance.subscribe('error', (e: any) => this.error.emit(e))\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @hidden\r\n   */\r\n  ngOnDestroy() {\r\n    this._listeners.forEach(l => {\r\n      if (typeof l.release === 'function') {\r\n        l.release();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Plays the video.\r\n   */\r\n  @FBMLInstanceMethod\r\n  play() {}\r\n\r\n  /**\r\n   * Pauses the video.\r\n   */\r\n  @FBMLInstanceMethod\r\n  pause() {}\r\n\r\n  /**\r\n   * Seeks to specified position.\r\n   * @param seconds {number}\r\n   */\r\n  @FBMLInstanceMethod\r\n  seek(seconds: number) {}\r\n\r\n  /**\r\n   * Mute the video.\r\n   */\r\n  @FBMLInstanceMethod\r\n  mute() {}\r\n\r\n  /**\r\n   * Unmute the video.\r\n   */\r\n  @FBMLInstanceMethod\r\n  unmute() {}\r\n\r\n  /**\r\n   * Returns true if video is muted, false if not.\r\n   */\r\n  @FBMLInstanceMethod\r\n  isMuted(): boolean { return; }\r\n\r\n  /**\r\n   * Set the volume\r\n   * @param volume\r\n   */\r\n  @FBMLInstanceMethod\r\n  setVolume(volume: number) {}\r\n\r\n  /**\r\n   * Get the volume\r\n   */\r\n  @FBMLInstanceMethod\r\n  getVolume(): number { return; }\r\n\r\n  /**\r\n   * Returns the current video time position in seconds\r\n   */\r\n  @FBMLInstanceMethod\r\n  getCurrentPosition() {}\r\n\r\n  /**\r\n   * Returns the video duration in seconds\r\n   */\r\n  @FBMLInstanceMethod\r\n  getDuration() {}\r\n\r\n}\r\n"]}